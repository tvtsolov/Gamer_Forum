@{
    ViewData["Title"] = "Edit";
    var adminStatus = Context.Session.GetString("AdminStatus");
    var loggedId = Context.Session.GetString("CurrentID");
}

@model UserUpdateViewModel


<form asp-controller="User" asp-action="Edit" method="post">
<div class="d-flex justify-content-center">
    <div class="accordion-custom" style="width: 30rem;" id="accordionExample">
        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    Username
                </button>
            </h2>


            <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    @{
                        if (adminStatus == "True")
                        {
                            <input type="text" asp-for="Username" class="form-control-custom" placeholder="New username" />
                            <span asp-validation-for="Username" class="text-danger"></span>
                        }
                        else
                        {
                            <input class="form-control-custom" id="disabledInput" type="text" placeholder="Only admins can change their username!" disabled>
                        }
                    }
                    
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    Personal name
                </button>
            </h2>

            <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body ">

                    <input type="text" asp-for="FirstName" class="form-control-custom" placeholder="New first name" />
                    <span asp-validation-for="FirstName" class="text-danger"></span>

                    <hr style="color: #fefefe;" />

                    <input type="text" asp-for="LastName" class="form-control-custom" placeholder="New last name" />
                    <span asp-validation-for="LastName" class="text-danger"></span>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    E-mail
                </button>
            </h2>

            <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <input type="text" asp-for="Email" class="form-control-custom" placeholder="New email" />
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                    Password
                </button>
            </h2>

            <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <input type="password" asp-for="Password" class="form-control-custom" placeholder="New password" />
                    <span asp-validation-for="Password" class="text-danger"></span>
                </div>
            </div>
        </div>

        <div class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                    Phone number
                </button>
            </h2>

            <div id="collapseFive" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    @{
                        if (adminStatus == "True")
                        {
                            <input type="text" asp-for="PhoneNumber" class="form-control-custom" placeholder="New phone number" />
                            <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                        }
                        else
                        {
                            <input class="form-control-custom" id="disabledInput" type="text" placeholder="Only admins can add phone numbers!" disabled>
                        }
                    }
                </div>
            </div>
        </div>

    </div>
</div>

<br/>

<div class="d-flex justify-content-center">
    <a asp-controller="User" asp-action="Details" asp-route-id="@loggedId" class="btn btn-custom4">Cancel</a>
    <input type="submit" value="Post" class="btn btn-custom1" />

</div>

</form>

